<div class="section">
  <h4>Voucher Form - Reactive Validation</h4>
  <br>

  <form [formGroup]="personForm" (ngSubmit)="savePerson(personForm.value)" novalidate>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" placeholder="Enter name" formControlName="name">
      <em *ngIf="personForm.controls['name'].errors!= undefined && personForm.controls['name'].errors['hugoNotAllowed']">
        The Name Hugo is not allowed
      </em>
      <em *ngIf="personForm.controls['name'].errors!= undefined && personForm.controls['name'].errors['UserExists']">
        This username "Alexander" is already taken
      </em>
      <em *ngIf="violatesMinLenght()">
        Name is required (minimum 4 characters).
      </em>
    </div>
    <div class="form-group">
      <label for="age">Age</label>
      <input type="number" class="form-control" placeholder="Enter age" formControlName="age">
      <em *ngIf="!personForm.controls['age'].valid && !personForm.controls['age'].pristine">
        Person must be between 18 and 99
      </em>
    </div>
    <div class="form-group">
      <label>Gender</label>
      <br />
      <input type="radio" value="male" formControlName="gender"> Male
      <input type="radio" value="female" formControlName="gender"> Female
    </div>
    <div>
      <button type="submit" class="btn btn-primary" (click)="savePerson(personForm)">Submit</button>

      <button type="submit" class="btn btn-primary" (click)="validateForm(personForm)">Validate</button>
    </div>
  </form>
</div>

<div class="row section">
  <div class="col-md-6">
    <h4>Control State - "Name" Field</h4><br>
    Name Fld is dirty: {{personForm.controls['name']?.dirty}}<br>
    Name Fld is pristine: {{personForm.controls['name']?.pristine}}<br>
    Name Fld is valid: {{personForm.controls['name']?.valid}}<br>
    Name Fld is invalid: {{personForm.controls['name']?.invalid}}<br>
    Name Fld is touched: {{personForm.controls['name']?.touched}}<br>
    Name Fld is untouched: {{personForm.controls['name']?.untouched}}<br>
  </div>
  <div class="col-md-6">
    <h4>Control State - "Age" Field</h4><br>
    Age Fld is dirty: {{personForm.controls['age']?.dirty}}<br>
    Age Fld is pristine: {{personForm.controls['age']?.pristine}}<br>
    Age Fld is valid: {{personForm.controls['age']?.valid}}<br>
    Age Fld is invalid: {{personForm.controls['age']?.invalid}}<br>
    Age Fld is touched: {{personForm.controls['age']?.touched}}<br>
    Age Fld is untouched: {{personForm.controls['age']?.untouched}}<br>
  </div>
</div>
<div class="row section">
  <div class="col-md-6">
    <h4>Form State</h4><br>
    Form is dirty: {{personForm.dirty}}<br>
    Form is pristine ('unber√ºhrt'): {{personForm.pristine}}<br>
    Form is valid: {{personForm.valid}}<br>
    Form is invalid: {{personForm.invalid}}<br>
    Form is touched: {{personForm.touched}}<br>
    Form is untouched: {{personForm.untouched}}<br>
  </div>
</div>